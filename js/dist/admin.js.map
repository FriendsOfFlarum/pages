{"version":3,"file":"admin.js","mappings":"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","sources":["webpack://@fof/pages/webpack/bootstrap","webpack://@fof/pages/webpack/runtime/compat get default export","webpack://@fof/pages/webpack/runtime/define property getters","webpack://@fof/pages/webpack/runtime/hasOwnProperty shorthand","webpack://@fof/pages/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@fof/pages/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@fof/pages/external root \"flarum.core.compat['app']\"","webpack://@fof/pages/external root \"flarum.core.compat['common/Model']\"","webpack://@fof/pages/external root \"flarum.core.compat['common/utils/computed']\"","webpack://@fof/pages/external root \"flarum.core.compat['common/utils/string']\"","webpack://@fof/pages/external root \"flarum.core.compat['common/utils/ItemList']\"","webpack://@fof/pages/external root \"flarum.core.compat['common/components/Badge']\"","webpack://@fof/pages/./src/common/models/Page.js","webpack://@fof/pages/external root \"flarum.core.compat['admin/components/ExtensionPage']\"","webpack://@fof/pages/external root \"flarum.core.compat['common/components/Button']\"","webpack://@fof/pages/external root \"flarum.core.compat['common/components/Modal']\"","webpack://@fof/pages/external root \"flarum.core.compat['common/utils/Stream']\"","webpack://@fof/pages/external root \"flarum.core.compat['common/utils/withAttr']\"","webpack://@fof/pages/external root \"flarum.core.compat['common/utils/setRouteWithForcedRefresh']\"","webpack://@fof/pages/./src/admin/components/EditPageModal.js","webpack://@fof/pages/external root \"flarum.core.compat['common/Component']\"","webpack://@fof/pages/external root \"flarum.core.compat['common/components/LoadingIndicator']\"","webpack://@fof/pages/external root \"flarum.core.compat['common/components/Placeholder']\"","webpack://@fof/pages/external root \"flarum.core.compat['admin/utils/saveSettings']\"","webpack://@fof/pages/external root \"flarum.core.compat['common/helpers/listItems']\"","webpack://@fof/pages/./src/admin/components/PagesListItem.js","webpack://@fof/pages/./src/admin/components/PagesList.js","webpack://@fof/pages/./src/admin/components/PagesPage.js","webpack://@fof/pages/external root \"flarum.core.compat['common/extend']\"","webpack://@fof/pages/external root \"flarum.core.compat['admin/components/BasicsPage']\"","webpack://@fof/pages/./src/admin/index.js","webpack://@fof/pages/./src/admin/addPageHomePageOption.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Model'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/computed'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/string'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/ItemList'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Badge'];","import app from 'flarum/app';\nimport Model from 'flarum/common/Model';\nimport computed from 'flarum/common/utils/computed';\nimport { getPlainContent } from 'flarum/common/utils/string';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport Badge from 'flarum/common/components/Badge';\n\nexport default class Page extends Model {\n  title = Model.attribute('title');\n  time = Model.attribute('time', Model.transformDate);\n  editTime = Model.attribute('editTime', Model.transformDate);\n  content = Model.attribute('content');\n  contentHtml = Model.attribute('contentHtml');\n  contentPlain = computed('contentHtml', getPlainContent);\n  slug = Model.attribute('slug');\n  isHidden = Model.attribute('isHidden');\n  isRestricted = Model.attribute('isRestricted');\n  isHtml = Model.attribute('isHtml');\n\n  badges() {\n    const items = new ItemList();\n\n    if (this.isHidden()) {\n      items.add(\n        'hidden',\n        Badge.component({\n          type: 'hidden',\n          icon: 'fas fa-trash',\n          label: app.translator.trans('fof-pages.admin.badges.hidden'),\n        })\n      );\n    }\n\n    if (this.isRestricted()) {\n      items.add(\n        'restricted',\n        Badge.component({\n          type: 'restricted',\n          icon: 'fas fa-user-shield',\n          label: app.translator.trans('fof-pages.admin.badges.restricted'),\n        })\n      );\n    }\n\n    return items;\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/components/ExtensionPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Modal'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/Stream'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/withAttr'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/setRouteWithForcedRefresh'];","import Modal from 'flarum/common/components/Modal';\nimport Button from 'flarum/common/components/Button';\nimport { slug } from 'flarum/common/utils/string';\nimport Stream from 'flarum/common/utils/Stream';\nimport withAttr from 'flarum/common/utils/withAttr';\nimport setRouteWithForcedRefresh from 'flarum/common/utils/setRouteWithForcedRefresh';\n\n/**\n * The `EditPageModal` component shows a modal dialog which allows the user\n * to create or edit a page.\n */\nexport default class EditPageModal extends Modal {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.page = this.attrs.page || app.store.createRecord('pages');\n\n    this.pageTitle = Stream(this.page.title() || '');\n    this.slug = Stream(this.page.slug() || '');\n    this.pageContent = Stream(this.page.content() || '');\n    this.isHidden = Stream(this.page.isHidden());\n    this.isRestricted = Stream(this.page.isRestricted());\n    this.isHtml = Stream(this.page.isHtml());\n  }\n\n  className() {\n    return 'EditPageModal Modal--large';\n  }\n\n  title() {\n    const title = this.pageTitle();\n    return title ? title : app.translator.trans('fof-pages.admin.edit_page.title');\n  }\n\n  content() {\n    return (\n      <div className=\"Modal-body\">\n        <div className=\"Form\">\n          <div className=\"Form-group\">\n            <label>{app.translator.trans('fof-pages.admin.edit_page.title_label')}</label>\n            <input\n              className=\"FormControl\"\n              placeholder={app.translator.trans('fof-pages.admin.edit_page.title_placeholder')}\n              value={this.pageTitle()}\n              oninput={(e) => {\n                this.pageTitle(e.target.value);\n                this.slug(slug(e.target.value));\n              }}\n            />\n          </div>\n\n          <div className=\"Form-group\">\n            <label>{app.translator.trans('fof-pages.admin.edit_page.slug_label')}</label>\n            <input\n              className=\"FormControl\"\n              placeholder={app.translator.trans('fof-pages.admin.edit_page.slug_placeholder')}\n              value={this.slug()}\n              oninput={(e) => {\n                this.slug(e.target.value);\n              }}\n            />\n          </div>\n\n          <div className=\"Form-group\">\n            <label>{app.translator.trans('fof-pages.admin.edit_page.content_label')}</label>\n            <textarea\n              className=\"FormControl\"\n              rows=\"5\"\n              value={this.pageContent()}\n              onchange={withAttr('value', this.pageContent)}\n              placeholder={app.translator.trans('fof-pages.admin.edit_page.content_placeholder')}\n            />\n          </div>\n\n          <div className=\"Form-group\">\n            <div>\n              <label className=\"checkbox\">\n                <input type=\"checkbox\" checked={this.isHidden()} onchange={withAttr('checked', this.isHidden)} />\n                {app.translator.trans('fof-pages.admin.edit_page.hidden_label')}\n              </label>\n            </div>\n          </div>\n\n          <div className=\"Form-group\">\n            <div>\n              <label className=\"checkbox\">\n                <input type=\"checkbox\" checked={this.isRestricted()} onchange={withAttr('checked', this.isRestricted)} />\n                {app.translator.trans('fof-pages.admin.edit_page.restricted_label')}\n              </label>\n            </div>\n          </div>\n\n          <div className=\"Form-group\">\n            <div>\n              <label className=\"checkbox\">\n                <input type=\"checkbox\" checked={this.isHtml()} onchange={withAttr('checked', this.isHtml)} />\n                {app.translator.trans('fof-pages.admin.edit_page.html_label')}\n              </label>\n            </div>\n          </div>\n\n          <div className=\"Form-group\">\n            {Button.component(\n              {\n                type: 'submit',\n                className: 'Button Button--primary EditPageModal-save',\n                loading: this.loading,\n              },\n              app.translator.trans('fof-pages.admin.edit_page.submit_button')\n            )}\n            {this.page.exists ? (\n              <button type=\"button\" className=\"Button EditPageModal-delete\" onclick={this.delete.bind(this)}>\n                {app.translator.trans('fof-pages.admin.edit_page.delete_page_button')}\n              </button>\n            ) : (\n              ''\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  onsubmit(e) {\n    e.preventDefault();\n\n    this.loading = true;\n\n    this.page\n      .save(\n        {\n          title: this.pageTitle(),\n          slug: this.slug(),\n          content: this.pageContent(),\n          isHidden: this.isHidden(),\n          isRestricted: this.isRestricted(),\n          isHtml: this.isHtml(),\n        },\n        { errorHandler: this.onerror.bind(this) }\n      )\n      .then(this.hideAndRefresh.bind(this))\n      .catch(() => {\n        this.loading = false;\n        m.redraw();\n      });\n  }\n\n  hideAndRefresh() {\n    this.hide();\n    setRouteWithForcedRefresh(app.route('extension', { id: 'fof-pages' }));\n  }\n\n  delete() {\n    this.loading = true;\n\n    if (confirm(app.translator.trans('fof-pages.admin.edit_page.delete_page_confirmation'))) {\n      this.page\n        .delete()\n        .then(this.hideAndRefresh.bind(this))\n        .catch(() => {\n          this.loading = false;\n          m.redraw();\n        });\n    }\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Component'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LoadingIndicator'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Placeholder'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/utils/saveSettings'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/listItems'];","import Button from 'flarum/common/components/Button';\nimport Component from 'flarum/common/Component';\nimport saveSettings from 'flarum/admin/utils/saveSettings';\nimport listItems from 'flarum/common/helpers/listItems';\nimport setRouteWithForcedRefresh from 'flarum/common/utils/setRouteWithForcedRefresh';\n\nimport EditPageModal from './EditPageModal';\n\n/**\n * ### Props\n *\n * - `page`\n */\nexport default class PagesListItem extends Component {\n  view() {\n    const page = this.attrs.page;\n    const url = app.forum.attribute('baseUrl') + '/p/' + page.id() + '-' + page.slug();\n    const badges = page.badges().toArray();\n    return (\n      <tr key={page.id()}>\n        <th>\n          {page.title()}\n          {badges.length ? <ul className=\"badges\">{listItems(page.badges().toArray())}</ul> : null}\n        </th>\n        <td className=\"Pages-actions\">\n          <div className=\"ButtonGroup\">\n            {Button.component({\n              className: 'Button Button--page-edit',\n              icon: 'fas fa-pencil-alt',\n              onclick: () => app.modal.show(EditPageModal, { page }),\n            })}\n            {Button.component({\n              className: 'Button Button--page-edit',\n              icon: 'fas fa-home',\n              onclick: this.setAsHomePage.bind(this),\n              disabled: app.data.settings['pages_home'] === page.id() && app.data.settings['default_route'] === '/pages/home',\n            })}\n            {Button.component({\n              className: 'Button Button--page-view',\n              icon: 'fas fa-eye fa-sm',\n              onclick: () => window.open(url, '_blank'),\n            })}\n            {Button.component({\n              className: 'Button Button--danger Button--page-delete',\n              icon: 'fas fa-times',\n              onclick: this.delete.bind(this),\n            })}\n          </div>\n        </td>\n      </tr>\n    );\n  }\n\n  setAsHomePage() {\n    app.alerts.dismiss(this.successAlert);\n    if (confirm(app.translator.trans('fof-pages.admin.edit_page.set_as_home_page_confirmation'))) {\n      const page = this.attrs.page;\n      saveSettings({\n        default_route: '/pages/home',\n        pages_home: page.id(),\n      })\n        .then(() => {\n          app.alerts.show({ type: 'success' }, app.translator.trans('fof-pages.admin.edit_page.set_as_home_page_done'));\n        })\n        .catch(() => {})\n        .then(() => {\n          this.loading = false;\n          m.redraw();\n        });\n    }\n  }\n\n  delete() {\n    if (confirm(app.translator.trans('fof-pages.admin.edit_page.delete_page_confirmation'))) {\n      const page = this.attrs.page;\n      page.delete().then(() => {\n        setRouteWithForcedRefresh(app.route('extension', { id: 'fof-pages' }));\n      });\n    }\n  }\n}\n","import Component from 'flarum/common/Component';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport Placeholder from 'flarum/common/components/Placeholder';\nimport Button from 'flarum/common/components/Button';\n\nimport PagesListItem from './PagesListItem';\n\n/**\n * The `PagesList` component displays a list of Pages.\n *\n */\nexport default class PagesList extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n    /**\n     * Whether or not pages results are loading.\n     *\n     * @type {Boolean}\n     */\n    this.loading = true;\n\n    /**\n     * The pages in the pages list.\n     *\n     * @type {Page}\n     */\n    this.pages = [];\n\n    /**\n     * Current page number.\n     *\n     * @type {Integer}\n     */\n    this.page = 0;\n\n    /**\n     * The number of activity items to load per request.\n     *\n     * @type {Integer}\n     */\n    this.loadLimit = 20;\n\n    this.refresh();\n  }\n\n  view() {\n    if (this.loading) {\n      return <div className=\"PageList-loading\">{LoadingIndicator.component()}</div>;\n    }\n\n    if (this.pages.length === 0) {\n      const text = app.translator.trans('fof-pages.admin.pages_list.empty_text');\n      return Placeholder.component({ text });\n    }\n\n    let next, prev;\n\n    if (this.nextResults === true) {\n      next = Button.component({\n        className: 'Button Button--PageList-next',\n        icon: 'fas fa-angle-right',\n        onclick: this.loadNext.bind(this),\n      });\n    }\n\n    if (this.prevResults === true) {\n      prev = Button.component({\n        className: 'Button Button--PageList-prev',\n        icon: 'fas fa-angle-left',\n        onclick: this.loadPrev.bind(this),\n      });\n    }\n\n    return (\n      <div className=\"PageList\">\n        <table className=\"PageList-results\">\n          <thead>\n            <tr>\n              <th>{app.translator.trans('fof-pages.admin.pages_list.title')}</th>\n              <th />\n            </tr>\n          </thead>\n          <tbody>\n            {this.pages.map((page) => {\n              return PagesListItem.component({ page });\n            })}\n          </tbody>\n        </table>\n        <div className=\"PageList-pagination\">\n          {next}\n          {prev}\n        </div>\n      </div>\n    );\n  }\n\n  /**\n   * @public\n   */\n  refresh(clear = true) {\n    if (clear) {\n      this.loading = true;\n      this.pages = [];\n    }\n\n    return this.loadResults().then(this.parseResults.bind(this));\n  }\n\n  /**\n   * Load a new page of Pages results.\n   *\n   * @param {Integer} page number.\n   * @return {Promise}\n   */\n  loadResults() {\n    const offset = this.page * this.loadLimit;\n    return app.store.find('pages', {\n      page: { offset, limit: this.loadLimit },\n      sort: '-time',\n    });\n  }\n\n  /**\n   * Load the next page of results.\n   *\n   * @public\n   */\n  loadNext() {\n    if (this.nextResults === true) {\n      this.page++;\n      this.refresh();\n    }\n  }\n\n  /**\n   * Load the previous page of results.\n   *\n   * @public\n   */\n  loadPrev() {\n    if (this.prevResults === true) {\n      this.page--;\n      this.refresh();\n    }\n  }\n\n  /**\n   * Parse results and append them to the page list.\n   *\n   * @param {Page[]} results\n   * @return {Page[]}\n   */\n  parseResults(results) {\n    [].push.apply(this.pages, results);\n\n    this.loading = false;\n\n    this.nextResults = !!results.payload.links.next;\n    this.prevResults = !!results.payload.links.prev;\n\n    m.redraw();\n    return results;\n  }\n}\n","import ExtensionPage from 'flarum/admin/components/ExtensionPage';\nimport Button from 'flarum/common/components/Button';\n\nimport EditPageModal from './EditPageModal';\nimport PagesList from './PagesList';\n\nexport default class PagesPage extends ExtensionPage {\n  content() {\n    return (\n      <div className=\"PagesPage\">\n        <div className=\"PagesPage-header\">\n          <div className=\"container\">\n            {Button.component(\n              {\n                className: 'Button Button--primary',\n                icon: 'fas fa-plus',\n                onclick: () => app.modal.show(EditPageModal),\n              },\n              app.translator.trans('fof-pages.admin.pages.create_button')\n            )}\n          </div>\n        </div>\n        <div className=\"PagesPage-list\">\n          <div className=\"container\">{PagesList.component()}</div>\n        </div>\n      </div>\n    );\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['admin/components/BasicsPage'];","import Page from '../common/models/Page';\nimport PagesPage from './components/PagesPage';\nimport addPageHomePageOption from './addPageHomePageOption';\n\napp.initializers.add('fof-pages', (app) => {\n  app.store.models.pages = Page;\n\n  app.extensionData\n    .for('fof-pages')\n    .registerPage(PagesPage)\n    .registerPermission(\n      {\n        icon: 'fas fa-file-alt',\n        label: app.translator.trans('fof-pages.admin.permissions.restricted'),\n        permission: 'fof-pages.viewRestricted',\n      },\n      'view'\n    );\n\n  addPageHomePageOption();\n});\n","import { extend } from 'flarum/common/extend';\nimport BasicsPage from 'flarum/admin/components/BasicsPage';\n\nexport default function () {\n  extend(BasicsPage.prototype, 'homePageItems', (items) => {\n    items.add('fof-pages', {\n      path: '/pages/home',\n      label: 'FriendsOfFlarum Pages',\n    });\n  });\n}\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","_setPrototypeOf","p","setPrototypeOf","bind","__proto__","_inheritsLoose","subClass","superClass","create","constructor","flarum","core","compat","Page","_Model","_this","_len","arguments","length","args","Array","_key","apply","concat","title","Model","time","editTime","content","contentHtml","contentPlain","computed","getPlainContent","slug","isHidden","isRestricted","isHtml","badges","items","ItemList","this","add","Badge","type","icon","label","app","trans","EditPageModal","_Modal","_proto","oninit","vnode","page","attrs","store","createRecord","pageTitle","Stream","pageContent","className","translator","m","placeholder","value","oninput","e","target","rows","onchange","withAttr","checked","Button","loading","exists","onclick","onsubmit","_this2","preventDefault","save","errorHandler","onerror","then","hideAndRefresh","redraw","hide","setRouteWithForcedRefresh","route","id","_this3","confirm","Modal","PagesListItem","_Component","view","url","forum","attribute","toArray","listItems","modal","show","setAsHomePage","disabled","data","settings","window","open","alerts","dismiss","successAlert","saveSettings","default_route","pages_home","Component","PagesList","pages","loadLimit","refresh","LoadingIndicator","text","Placeholder","next","prev","nextResults","loadNext","prevResults","loadPrev","map","component","clear","loadResults","parseResults","offset","find","limit","sort","results","push","payload","links","PagesPage","_ExtensionPage","ExtensionPage","initializers","models","extensionData","registerPage","registerPermission","permission","extend","BasicsPage","path"],"sourceRoot":""}